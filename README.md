# Лабораторная работа 1
## Вариант М1

### **Цель:** Создание консольного калькулятора методом рекурсивного спуска
### **Особенности:** 
- Поддержка скобок, унарных операторов, приоритетов
- Операторы `//` и `%` только для целых чисел
- Округление результата до 2 знаков после запятой при выводе
- Обработка ошибок с кодами:
    - `E1`: Недопустимый токен
    - `E2`: Деление на ноль
    - `E3`: Неожиданный конец выражения
    - `E4`: Несогласованные скобки
    - `E5`: Некорректное число
    - `E6`: Значение не определено
- Деление на 0 -> ошибка
- 0**0 не определен
- Унарный '+' игнорируется

### **Краткий алгоритм работы:** 

1. **Токенизация**:  
     - Входная строка разбивается на токены (числа, операторы, скобки) с помощью регулярного выражения. Поддержка `//`, `**`, унарных `+/-`.

2. **Рекурсивный разбор**:  
     - Функции `expr` → `add` → `mul` → `pow` → `unary` → `primary` вызываются рекурсивно в соответствии с приоритетами.

3. **Вычисление**:  
     - Операции выполняются «на лету» при обходе дерева разбора.

4. **Валидация**:  
     - Проверка типов для `//` и `%` (только `int`)
     - Проверка деления на ноль
     - Проверка сбалансированности скобок

5. **Вывод**:  
    - Результат округляется до 2 знаков после запятой при печати.

### **Интересные тест-кейсы**
- Скобки сбалансированы по количеству, но введены как )(
- 5//2.0 - ошибка "// только для целых чисел", иначе проблема с тестами

### Требования
- Python 3.8+
- Виртуальное окружение (рекомендуется)
### Установка репозитория
```bash
pip install https://github.com/kiruganich/python-lab-1-M1.git
```
```bash
cd python-lab-1-M1
```
### Установка зависимостей
```bash
# Создание и активация виртуального окружения
python -m venv .venv
```
```bash
# Windows:
.venv\Scripts\activate
```
```bash
# Linux/Mac:
source .venv/bin/activate
```
```bash
# Установка зависимостей

pip install -r requirements.txt
```

### Запуск калькулятора (из корневой папки):
```bash
python -m src.main
```
